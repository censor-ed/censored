<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <title>はちまバスターNGリスト</title>
    <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet" />
    <link href="/censored/stylesheets/application.css" rel="stylesheet" />
  </head>
  <body class='index'>
    <div class='container'>
      <div class='row'>
        <div class='col-md-8 col-md-offset-2'>
          <div class='page-header'>
            <h1>はちまバスターNGリスト</h1>
          </div>
          <p>
            Chromeの拡張機能
            <a href="https://chrome.google.com/webstore/detail/%E3%81%AF%E3%81%A1%E3%81%BE%E3%83%90%E3%82%B9%E3%82%BF%E3%83%BC/kmjdodljbndkgaiakbdciipegjnbcmog?hl=ja">はちまバスター</a>
            用の正規表現を提供します。ブロックしたいサイトをチェックして、結果をはちまバスターのオプションにコピペしてください。
            オプションはChromeのその他のツール→拡張機能、またはアドレスバー右のはちまバスターのアイコンを右クリックから開けます。
          </p>
          <div id='presets'>
            <span class='btn btn-primary' id='decide' v-on='click: decide'>決定</span>
            <table class='table table-striped table-hover'>
              <thead>
                <tr>
                  <th class='check'>
                    <input type='checkbox' v-on='click: toggle'>
                  </th>
                  <th class='name'>
                    <input class='form-control' placeholder='フィルタ' type='text' v-model='filterText'>
                  </th>
                  <th>
                    <label>
                      <input type='checkbox' v-on='click: important'>重要</input>
                    </label>
                  </th>
                  <th></th>
                </tr>
              </thead>
              <tbody>
                <tr v-class='checked: checked' v-repeat='presets | filterBy filterText in name'>
                  <td>
                    <input class='preset' type='checkbox' v-model='checked' value='{{regexp}}'>
                  </td>
                  <td>{{name}}</td>
                  <td class='important'>{{important ? "!" : ""}}</td>
                  <td class='regexp'>
                    <span title='{{regexp}}'>{{truncate(regexp, 45)}}</span>
                  </td>
                </tr>
              </tbody>
            </table>
            <div class='text-right'>
              選択した数:{{checkedSize()}}/{{$data.presets.length}}
            </div>
            <textarea class='form-control' id='output' readonly rows='15' v-on='click: focus, blur: unfocus' wrap='off'>{{values().join("\n")}}</textarea>
          </div>
          <div id='footer'>
            <div class='text-right'>
              JSON:
              <a href='presets.json' target='_blank'>全て</a>
              <a href='important.json' target='_blank'>重要</a>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script src="//code.jquery.com/jquery-2.1.4.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/vue/0.12.10/vue.min.js"></script>
    <script src="/censored/javascripts/application.js"></script>
  </body>
</html>
